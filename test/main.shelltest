#!/usr/bin/env shelltest
#
# These tests are run using `shelltestrunner`.
# https://github.com/simonmichael/shelltestrunner
#
# You will have a much nicer time if you run these tests via Make:
#
#     $ make test
# or:
#     $ make test-shelltest
#
# If you need to run these tests directly, then do so the same way that the
# Makefile does: from the root directory of the project:
#
#     $ shelltest test/main.shelltest

# When no subcommand is given, an error message describes valid subcommands.
$ test/build/projectionist
> /^Valid subcommands: alternate/
>=1

# The main program is built and cannot find a .projections.json file.
$ test/build/projectionist alternate
> /^No projections in:/
>=1

# A .projections.json file is found and printed.
$ test/build/projectionist alternate --config=test/projections.test.json
> /map\[test-key:test-value\]/
>=0
